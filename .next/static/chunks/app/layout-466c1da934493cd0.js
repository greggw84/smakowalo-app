(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{283:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,O:()=>s});var a=r(280),o=r(2115),n=r(2099);let l=(0,o.createContext)(void 0);function s(e){let{children:t}=e,[r,s]=(0,o.useState)(null),[i,u]=(0,o.useState)(null),[c,d]=(0,o.useState)(!0),h=(0,n.RO)(),f=!"https://quqqpixujzxujauhessa.supabase.co".includes("placeholder");(0,o.useEffect)(()=>{if(!f||!h)return void d(!1);(async()=>{try{let{data:{session:t},error:r}=await h.auth.getSession();if(r)console.error("Error getting session:",r);else{var e;u(t),s(null!=(e=null==t?void 0:t.user)?e:null)}}catch(e){console.error("Supabase not available:",e)}d(!1)})();try{let{data:{subscription:e}}=h.auth.onAuthStateChange(async(e,t)=>{var r;u(t),s(null!=(r=null==t?void 0:t.user)?r:null),d(!1)});return()=>e.unsubscribe()}catch(e){console.error("Supabase auth subscription failed:",e)}},[h,f]);let p=async(e,t,r)=>{if(!f||!h)throw Error("Supabase is not configured");let{data:a,error:o}=await h.auth.signUp({email:e,password:t});if(o)throw o;if(a.user){let{error:t}=await h.from("profiles").insert({id:a.user.id,email:a.user.email||e,first_name:r.firstName,last_name:r.lastName,phone:r.phone,newsletter_subscribed:r.newsletter||!1});t&&console.error("Error creating profile:",t)}return{data:a,error:o}},m=async(e,t)=>{if(!f||!h)throw Error("Supabase is not configured");let{data:r,error:a}=await h.auth.signInWithPassword({email:e,password:t});if(a)throw a;return{data:r,error:a}},v=async()=>{if(!f||!h)throw Error("Supabase is not configured");let{error:e}=await h.auth.signOut();if(e)throw e};return(0,a.Y)(l.Provider,{value:{user:r,session:i,loading:c,signUp:p,signIn:m,signOut:v},children:t})}let i=()=>{let e=(0,o.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},347:()=>{},2099:(e,t,r)=>{"use strict";r.d(t,{RO:()=>s});var a=r(3579),o=r(4982);let n="https://quqqpixujzxujauhessa.supabase.co",l="twoj-prawdziwy-anon-key-tutaj",s=()=>{if(!n.includes("placeholder")&&!l.includes("placeholder")&&!l.includes("twoj-prawdziwy")&&n.startsWith("https://")&&l.length>20)try{return(0,a.createClientComponentClient)()}catch(e){return console.error("Supabase component client creation failed:",e),null}return console.log("Supabase not configured properly for components"),null};(()=>{if(!n.includes("placeholder")&&!l.includes("placeholder")&&!l.includes("twoj-prawdziwy")&&n.startsWith("https://")&&l.length>20)try{return(0,o.UU)(n,l)}catch(e){return console.error("Supabase client creation failed:",e),null}return console.log("Supabase not configured properly, using mock data")})()},4051:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4147,23)),Promise.resolve().then(r.t.bind(r,8489,23)),Promise.resolve().then(r.bind(r,5476)),Promise.resolve().then(r.t.bind(r,347,23))},4147:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}},5323:(e,t,r)=>{"use strict";r.d(t,{_:()=>s,e:()=>l});var a=r(280),o=r(2115);let n=(0,o.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,o.useState)([]),[s,i]=(0,o.useState)(!0);(0,o.useEffect)(()=>{try{let e=localStorage.getItem("smakowalo-cart");e&&l(JSON.parse(e))}catch(e){console.error("Error loading cart from localStorage:",e)}finally{i(!1)}},[]),(0,o.useEffect)(()=>{if(!s)try{localStorage.setItem("smakowalo-cart",JSON.stringify(r))}catch(e){console.error("Error saving cart to localStorage:",e)}},[r,s]);let u=e=>{l(t=>t.filter(t=>t.id!==e))},c=r.reduce((e,t)=>e+t.quantity,0),d=r.reduce((e,t)=>e+t.price*t.quantity,0);return(0,a.Y)(n.Provider,{value:{items:r,totalItems:c,totalPrice:d,addItem:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l(r=>r.find(t=>t.id===e.id)?r.map(r=>r.id===e.id?{...r,quantity:r.quantity+t}:r):[...r,{...e,quantity:t}])},removeItem:u,updateQuantity:(e,t)=>{if(t<=0)return void u(e);l(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},clearCart:()=>{l([])},isLoading:s},children:t})}let s=()=>{let e=(0,o.useContext)(n);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},5476:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var a=r(280),o=r(2115),n=r(283),l=r(5323);function s(e){let{children:t}=e;return(0,o.useEffect)(()=>{document.body.className="antialiased"},[]),(0,a.Y)(n.O,{children:(0,a.Y)(l.e,{children:(0,a.Y)("div",{className:"antialiased",children:t})})})}},8489:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}}},e=>{var t=t=>e(e.s=t);e.O(0,[896,280,579,441,684,358],()=>t(4051)),_N_E=e.O()}]);